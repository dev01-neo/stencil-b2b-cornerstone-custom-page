---
product:
    videos:
        limit: {{theme_settings.productpage_videos_count}}
    reviews:
        limit: {{theme_settings.productpage_reviews_count}}
    related_products:
        limit: {{theme_settings.productpage_related_products_count}}
    similar_by_views:
        limit: {{theme_settings.productpage_similar_by_views_count}}
---
{{inject 'productId' product.id}}

{{#partial "page"}}

    {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

    {{#each product.shipping_messages}}
        {{> components/common/alert/alert-info message}}
    {{/each}}
    <style>
        .table-custom{
            background-color: white;
            table-layout: unset;
        }
    </style>
    <div>
        {{> components/products/custom-product-view}}
    </div>
    <div class="custom-feilds-three-sections">


        <!-- custom feilds -->

    <div class="row"> 
        <div class="large-6 columns">     
            <!-- large-push-6  -->
            {{#if theme_settings.show_custom_fields_tabs '!==' true}}
                {{#each product.custom_fields}}
                <table class="table-custom">
                <tr>
                  <th>{{name}}:</th>
                  <td>{{{ sanitize value}}}</td>
                </tr>
                </table>
              {{/each}}
            {{/if}}
        </div>
    </div> 

    
    {{inject "customtName" product.custom_fields}}
    <script>
    var jsContext = JSON.parse({{jsContext}});
    var customfields = (jsContext.customtName);
    customfields.forEach(main=>{
        
        var customfieldname = main.name;
        var customfieldvalue = main.value;
        const names = customfieldname.split('__');
            var namepositionsecond =  names[1];
            var namepositionfirst =  names[0];
            if(namepositionsecond == "specification"){
                console.log(namepositionfirst, customfieldvalue);
            }
             if(namepositionsecond == "demo"){
                console.log(namepositionfirst);
            }
    })
    </script>

        <!-- custom feilds -->
        
        
        {{{region name="product_below_content"}}}

        {{#if product.videos.list.length}}
            {{> components/products/videos product.videos}}
        {{/if}}

        {{#all settings.show_product_reviews theme_settings.show_product_reviews (if theme_settings.show_product_details_tabs '!==' true)}}
            {{> components/products/reviews reviews=product.reviews product=product urls=urls}}
        {{/all}}
    </div>

    {{> components/products/schema}}
{{/partial}}
{{> layout/base}}
